"use strict";(self.webpackChunkaml_website=self.webpackChunkaml_website||[]).push([[3444],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>d});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=a.createContext({}),u=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=u(e.components);return a.createElement(s.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=u(t),d=i,f=m["".concat(s,".").concat(d)]||m[d]||p[d]||r;return t?a.createElement(f,o(o({ref:n},c),{},{components:t})):a.createElement(f,o({ref:n},c))}));function d(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,o=new Array(r);o[0]=m;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var u=2;u<r;u++)o[u]=t[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},8215:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(7294);const i=function(e){let{children:n,hidden:t,className:i}=e;return a.createElement("div",{role:"tabpanel",hidden:t,className:i},n)}},9877:(e,n,t)=>{t.d(n,{Z:()=>c});var a=t(7462),i=t(7294),r=t(2389),o=t(5773),l=t(6010);const s="tabItem_LplD";function u(e){var n,t,r;const{lazy:u,block:c,defaultValue:p,values:m,groupId:d,className:f}=e,g=i.Children.map(e.children,(e=>{if((0,i.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),k=null!=m?m:g.map((e=>{let{props:{value:n,label:t,attributes:a}}=e;return{value:n,label:t,attributes:a}})),h=(0,o.lx)(k,((e,n)=>e.value===n.value));if(h.length>0)throw new Error('Docusaurus error: Duplicate values "'+h.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const v=null===p?p:null!=(n=null!=p?p:null==(t=g.find((e=>e.props.default)))?void 0:t.props.value)?n:null==(r=g[0])?void 0:r.props.value;if(null!==v&&!k.some((e=>e.value===v)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+k.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:b,setTabGroupChoices:A}=(0,o.UB)(),[N,C]=(0,i.useState)(v),y=[],{blockElementScrollPositionUntilNextRender:M}=(0,o.o5)();if(null!=d){const e=b[d];null!=e&&e!==N&&k.some((n=>n.value===e))&&C(e)}const O=e=>{const n=e.currentTarget,t=y.indexOf(n),a=k[t].value;a!==N&&(M(n),C(a),null!=d&&A(d,a))},w=e=>{var n;let t=null;switch(e.key){case"ArrowRight":{const n=y.indexOf(e.currentTarget)+1;t=y[n]||y[0];break}case"ArrowLeft":{const n=y.indexOf(e.currentTarget)-1;t=y[n]||y[y.length-1];break}}null==(n=t)||n.focus()};return i.createElement("div",{className:"tabs-container"},i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":c},f)},k.map((e=>{let{value:n,label:t,attributes:r}=e;return i.createElement("li",(0,a.Z)({role:"tab",tabIndex:N===n?0:-1,"aria-selected":N===n,key:n,ref:e=>y.push(e),onKeyDown:w,onFocus:O,onClick:O},r,{className:(0,l.Z)("tabs__item",s,null==r?void 0:r.className,{"tabs__item--active":N===n})}),null!=t?t:n)}))),u?(0,i.cloneElement)(g.filter((e=>e.props.value===N))[0],{className:"margin-vert--md"}):i.createElement("div",{className:"margin-vert--md"},g.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==N})))))}function c(e){const n=(0,r.Z)();return i.createElement(u,(0,a.Z)({key:String(n)},e))}},6861:(e,n,t)=>{t.r(n),t.d(n,{frontMatter:()=>l,contentTitle:()=>s,metadata:()=>u,toc:()=>c,default:()=>m});var a=t(7462),i=(t(7294),t(3905)),r=t(9877),o=t(8215);const l={id:"amf_configuration",title:"AMF Configuration and Client objects",sidebar_position:2},s=void 0,u={unversionedId:"amf/using-amf/amf_configuration",id:"amf/using-amf/amf_configuration",title:"AMF Configuration and Client objects",description:"To use AMF you need an AMFConfiguration object.",source:"@site/docs/amf/using-amf/configure-amf.mdx",sourceDirName:"amf/using-amf",slug:"/amf/using-amf/amf_configuration",permalink:"/docs/amf/using-amf/amf_configuration",editUrl:"https://github.com/aml-org/a-ml/edit/develop/docs/amf/using-amf/configure-amf.mdx",tags:[],version:"current",lastUpdatedBy:"arielmirra",lastUpdatedAt:1632258786,formattedLastUpdatedAt:"9/21/2021",sidebarPosition:2,frontMatter:{id:"amf_configuration",title:"AMF Configuration and Client objects",sidebar_position:2},sidebar:"myAutogeneratedSidebar",previous:{title:"Add AMF to your project",permalink:"/docs/amf/using-amf/amf_setup"},next:{title:"Parsing with AMF",permalink:"/docs/amf/using-amf/amf_parsing"}},c=[{value:"AMF Configuration",id:"amf-configuration",children:[],level:2},{value:"Configuration types",id:"configuration-types",children:[{value:"Specific configurations",id:"specific-configurations",children:[],level:3},{value:"General configurations",id:"general-configurations",children:[],level:3}],level:2},{value:"AMF Client",id:"amf-client",children:[],level:2}],p={toc:c};function m(e){let{components:n,...l}=e;return(0,i.kt)("wrapper",(0,a.Z)({},p,l,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"To use AMF you need an ",(0,i.kt)("inlineCode",{parentName:"p"},"AMFConfiguration")," object.\nThis immutable object stores and configures:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Parsing options"),(0,i.kt)("li",{parentName:"ul"},"Render options"),(0,i.kt)("li",{parentName:"ul"},"Resource loaders"),(0,i.kt)("li",{parentName:"ul"},"Plugins"),(0,i.kt)("li",{parentName:"ul"},"Transformation pipelines"),(0,i.kt)("li",{parentName:"ul"},"Validation profiles"),(0,i.kt)("li",{parentName:"ul"},"Error handler providers"),(0,i.kt)("li",{parentName:"ul"},"Event Listeners"),(0,i.kt)("li",{parentName:"ul"},"And more ...")),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"#amf-configuration"},"AMF configuration")," object provides an ",(0,i.kt)("a",{parentName:"p",href:"#amf-client"},"AMF Client")," that you'll use to interact with AMF."),(0,i.kt)("h2",{id:"amf-configuration"},"AMF Configuration"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"AMF 5 client interface",src:t(5974).Z,width:"960",height:"540"})),(0,i.kt)("h2",{id:"configuration-types"},"Configuration types"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"AMFConfiguration")," class has a builder style setup so that you can create a configuration according to your project needs.\nAMF already provides specific and general configurations."),(0,i.kt)("h3",{id:"specific-configurations"},"Specific configurations"),(0,i.kt)("p",null,"AMF has predefined configurations for each specification it supports:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"RAMLConfiguration")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"RAMLConfiguration.RAML08()")," for RAML 0.8 documents"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"RAMLConfiguration.RAML10()")," for RAML 1.0 documents"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"OASConfiguration")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"OASConfiguration.OAS20()")," for OAS 2.0 documents"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"OASConfiguration.OAS30()")," for OAS 3.0 documents"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"AsyncAPIConfiguration")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"AsyncAPIConfiguration.Async20()")," for AsyncAPI 2.0.0 documents")))),(0,i.kt)("p",null,"Each configuration has all it needs to parse, transform, validate and render documents."),(0,i.kt)("h3",{id:"general-configurations"},"General configurations"),(0,i.kt)("p",null,"AMF also has general-purpose configurations that support spec-agnostic parsing.\nThis enables parsing without knowing the exact specification of a document, but all other operations\n(transformation, validation, rendering) are spec-dependent and require a specific configuration.\nThese general-purpose configurations are:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"RAMLConfiguration.RAML()"))," can parse both RAML 0.8 and RAML 1.0 documents"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"OASConfiguration.OAS()"))," can parse both OAS 2.0 and OAS 3.0 documents"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"WebAPIConfiguration.WebAPI()"))," can parse RAML and OAS documents"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"APIConfiguration.API()"))," can parse RAML, OAS and AsyncAPI documents")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"AMFParseResult")," returned by parsing contains the exact specification parsed in the property ",(0,i.kt)("inlineCode",{parentName:"p"},".sourceSpec"),", and each configuration\nhas the method ",(0,i.kt)("inlineCode",{parentName:"p"},".fromSpec(Spec)")," that returns the specific ",(0,i.kt)("a",{parentName:"p",href:"#specific-configurations"},"specific configuration")," for the spec provided,\nso it's simple to use a general-purpose configuration and then use it to get the specific configuration needed."),(0,i.kt)("h2",{id:"amf-client"},"AMF Client"),(0,i.kt)("p",null,"To interact with AMF you need to create a client from a configuration.\nThere are 2 types of clients in AMF, depending on what you want to work with:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"baseUnitClient"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Contains common AMF operations to operate with ",(0,i.kt)("inlineCode",{parentName:"li"},"BaseUnit"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"A ",(0,i.kt)("inlineCode",{parentName:"li"},"BaseUnit")," is the model used by AMF to store parsed documents"))),(0,i.kt)("li",{parentName:"ul"},"Contains methods like ",(0,i.kt)("inlineCode",{parentName:"li"},"parse(url)"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"parseContent(string)"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"transform(BaseUnit)"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"render(BaseUnit)"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"validate(BaseUnit)"),", etc."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"elementClient"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Contains functionality associated with specific elements of the AMF graph model, not documents."),(0,i.kt)("li",{parentName:"ul"},"Contains methods like ",(0,i.kt)("inlineCode",{parentName:"li"},"getPayloadValidatorFor(shape, mediatype, mode)"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"toJsonSchema(element)"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"toRamlDatatype(element)"))))),(0,i.kt)("p",null,"The following code is an example of creating a configuration, a client, and using AMF:"),(0,i.kt)(r.Z,{groupId:"languages",defaultValue:"java",values:[{label:"Scala",value:"scala"},{label:"Java",value:"java"},{label:"TypeScript",value:"ts"}],mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"scala",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},"import amf.apicontract.client.scala.RAMLConfiguration\n\nval configuration = RAMLConfiguration.RAML10()\nval client = configuration.baseUnitClient()\n// your code...\n"))),(0,i.kt)(o.Z,{value:"java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"import amf.apicontract.client.platform.OASConfiguration;\nimport amf.apicontract.client.platform.AMFBaseUnitClient;\n\nclass App {\n    public static void main(String[] args){\n        final AMFConfiguration configuration = OASConfiguration.OAS30();\n        final AMFBaseUnitClient client = configuration.baseUnitClient();\n        // your code...\n    }\n}\n"))),(0,i.kt)(o.Z,{value:"ts",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},'import {\n  AMFBaseUnitClient,\n  AMFConfiguration,\n  OASConfiguration,\n} from "amf-client-js";\n\nconst configuration: AMFConfiguration = OASConfiguration.OAS20()\nconst client: AMFBaseUnitClient = configuration.client\n// ... your code\n')))))}m.isMDXComponent=!0},5974:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/amf5-client-interface-2d540062e38929857e0f747d1aab1da0.png"}}]);